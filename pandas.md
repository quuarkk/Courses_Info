
---

## Лабораторная работа 1. Введение в pandas: анализ данных на Python

**Цель:** Изучить основы анализа данных с помощью библиотеки pandas.

### Теоретические основы

- **Pandas** — библиотека Python для работы с табличными данными (строки и столбцы), называемыми **DataFrame**. DataFrame похож на таблицу Excel.
- **Series** — одномерный массив данных с метками (индексами), похож на столбец таблицы.
- **DataFrame** — двумерная таблица, состоящая из объектов Series, с индексами для строк и столбцов.
- **Категориальные переменные** — переменные с ограниченным набором значений (например, "мужской/женский").
- **Количественные переменные** — числовые значения, которые можно измерить:
  - **Непрерывные** — любые значения в диапазоне (например, рост).
  - **Дискретные** — определённые значения (например, количество детей).
- **Форматированный вывод** — способ отображения данных с использованием шаблонов (например, f-строки или метод `.format()`).
- **Индексация** — обращение к данным по меткам (`.loc`) или порядковым номерам (`.iloc`).

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Series                | Одномерный массив с индексами, столбец таблицы                              | `pd.Series([1, 2, 3], index=['a', 'b', 'c'])` |
| DataFrame             | Двумерная таблица из Series с индексами строк и столбцов                   | `pd.DataFrame({'A': [1, 2], 'B': [3, 4]})`   |
| Категориальные данные | Ограниченный набор значений (например, цвета)                               | "красный", "синий"                           |
| Количественные данные | Числовые значения (дискретные или непрерывные)                             | Рост (170.5 см), количество книг (5)         |
| `.loc`                | Обращение к данным по меткам индекса                                        | `data.loc['Первый']`                         |
| `.iloc`               | Обращение к данным по порядковому номеру                                    | `data.iloc[0]`                               |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Создание переменных                      | Строковые и числовые переменные                                             | `H = "Hello word!"`<br>`duration = 89`                                  |
| Форматированный вывод                    | Вывод с использованием f-строк или `.format()`                              | `print(f"Занятие: {speaker}, {duration} минут")`                         |
| Импорт pandas                            | Подключение библиотеки pandas                                               | `import pandas as pd`                                                   |
| Создание Series                          | Создание Series с данными и индексами                                       | `pd.Series(["Понедельник", "Вторник"], index=["Первый", "Второй"])`     |
| Обращение к Series                       | Доступ по метке или номеру                                                 | `data.loc['Первый']`<br>`data.iloc[0]`                                  |
| Изменение значений Series                | Арифметические операции над всеми элементами                                | `s = pd.Series([1, 2, 3])`<br>`s * 2`                                   |
| Словарь в Series                         | Преобразование словаря в Series (ключи — индексы)                           | `pd.Series({'a': 1, 'b': 2})`                                          |
| Создание DataFrame                       | Создание таблицы из словаря с индексами                                     | `pd.DataFrame({'выручка': [5000, 3500]}, index=['январь', 'февраль'])` |
| Объединение Series в DataFrame           | Объединение нескольких Series в таблицу                                     | `pd.DataFrame({'col1': s1, 'col2': s2})`                               |
| Методы `.head()` и `.tail()`             | Показ первых или последних строк                                           | `df.head(3)`<br>`df.tail(2)`                                           |
| Атрибуты DataFrame                       | Информация о данных: столбцы, размер, типы                                  | `df.columns`<br>`df.shape`<br>`df.dtypes`<br>`df.info()`                |
| Построение гистограммы                   | Визуализация распределения данных                                           | `df['col'].hist()`                                                     |
| Уникальные значения                      | Подсчёт уникальных значений в столбце                                       | `df['col'].value_counts()`                                             |
| Выборка по индексу в DataFrame           | Доступ к строкам по меткам                                                 | `df.loc['январь']`                                                     |

**Пример кода для создания DataFrame:**
```python
import pandas as pd
months = ['январь', 'февраль']
sales = {'выручка': [5000, 3500], 'продажи': [20, 25]}
df = pd.DataFrame(data=sales, index=months)
print(df)
```

---

## Лабораторная работа 2. Предобработка данных

**Цель:** Изучить методы очистки и подготовки данных для анализа.

### Теоретические основы

- **Предобработка данных** — процесс очистки и преобразования данных для анализа или машинного обучения.
- **Пропуски (missing values)** — отсутствующие данные, которые можно удалить или заполнить.
- **Дубликаты** — повторяющиеся строки, которые могут искажать анализ.
- **Типы данных** — формат данных (числовой, строковый, дата), который нужно привести к правильному виду.
- **Группирование** — объединение данных по категориям для анализа (например, по возрастным группам).

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Пропуски              | Отсутствующие значения в данных                                             | `NaN` в столбце                              |
| Дубликаты             | Повторяющиеся строки в таблице                                              | Две одинаковые записи о заказе               |
| Группирование         | Объединение данных по категориям                                            | Подсчёт продаж по месяцам                    |
| Преобразование типов  | Изменение формата данных (строка → число, строка → дата)                    | `'2023-01-01'` → `datetime`                  |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Загрузка данных                          | Чтение данных из CSV или JSON                                               | `df = pd.read_csv('file.csv')`                                          |
| Переименование столбцов                  | Изменение названий столбцов                                                 | `df.columns = ['new1', 'new2']`                                         |
| Замена значений                          | Замена одних значений на другие                                             | `df.replace('old', 'new')`                                              |
| Поиск пропусков                          | Подсчёт пропущенных значений                                                | `df.isnull().sum()`                                                     |
| Группирование данных                     | Объединение по категориям и подсчёт статистики                              | `df.groupby('col').sum()`                                               |
| Заполнение пропусков                     | Замена пропусков (например, медианой или модой)                             | `df.fillna(df.median())`                                                |
| Арифметические операции                  | Создание новых столбцов через вычисления                                    | `df['new'] = df['col1'] + df['col2']`                                  |
| Удаление пропусков                       | Удаление строк или столбцов с пропусками                                    | `df.dropna()`                                                           |
| Поиск и удаление дубликатов              | Проверка и удаление повторяющихся строк                                     | `df.duplicated().sum()`<br>`df.drop_duplicates()`                       |
| Приведение к нижнему регистру            | Преобразование строк к нижнему регистру                                     | `df['col'] = df['col'].str.lower()`                                     |
| Преобразование в числовой тип            | Конвертация строк в числа                                                   | `pd.to_numeric(df['col'], errors='coerce')`                             |
| Преобразование в другой тип              | Изменение типа данных (например, в строку)                                   | `df['col'].astype(str)`                                                 |
| Преобразование строк в даты              | Конвертация строк в формат datetime                                         | `pd.to_datetime(df['date'], format='%d.%m.%Y')`                         |
| Сохранение данных                        | Экспорт DataFrame в CSV                                                     | `df.to_csv('output.csv', index=False)`                                  |

**Пример кода для предобработки:**
```python
import pandas as pd
df = pd.read_csv('data.csv')
df['col'] = pd.to_numeric(df['col'], errors='coerce')
df.fillna(df.median(), inplace=True)
df.to_csv('cleaned_data.csv', index=False)
```

---

## Лабораторная работа 3. Графики и выводы

**Цель:** Освоить визуализацию данных с помощью Matplotlib.

### Теоретические основы

- **Matplotlib** — библиотека Python для построения графиков (линейных, столбчатых, круговых и др.).
- **Типы графиков**:
  - **Линейный график** — показывает тренды (например, изменение продаж во времени).
  - **Столбчатый график** — сравнивает категории (например, прибыль по месяцам).
  - **Круговая диаграмма** — показывает доли (например, распределение марок машин).
  - **Диаграмма рассеяния** — выявляет корреляцию между переменными.
  - **Диаграмма размаха** — показывает распределение (медиану, квартили, выбросы).

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Линейный график       | Соединяет точки линиями для отображения трендов                             | `plt.plot(x, y)`                             |
| Столбчатый график     | Показывает значения категорий столбцами                                     | `plt.bar(x, y)`                              |
| Круговая диаграмма    | Показывает доли в виде секторов круга                                       | `plt.pie(vals, labels=labels)`               |
| Диаграмма рассеяния   | Точки на плоскости для анализа корреляции                                   | `plt.scatter(x, y)`                          |
| Диаграмма размаха     | Показывает медиану, квартили и выбросы                                      | `plt.boxplot(data)`                          |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Подключение Matplotlib                   | Импорт библиотеки                                                           | `import matplotlib.pyplot as plt`                                       |
| Построение линейного графика             | Соединение точек линиями                                                    | `plt.plot(x, y)`<br>`plt.show()`                                        |
| Добавление заголовков и подписей         | Подписи осей и заголовок графика                                            | `plt.xlabel('X')`<br>`plt.ylabel('Y')`<br>`plt.title('График')`         |
| Изменение стиля графика                  | Изменение цвета, добавление маркеров                                        | `plt.plot(x, y, color='green', marker='o')`                             |
| Диаграмма рассеяния                      | Построение точечного графика                                                | `plt.scatter(x, y)`                                                     |
| Столбчатый график                        | Построение графика с категориями                                            | `plt.bar(x, y)`                                                         |
| Комбинация графиков                      | Объединение разных типов графиков                                           | `plt.bar(x, y)`<br>`plt.plot(x, y, color='green')`                      |
| Круговая диаграмма                       | Построение диаграммы с долями                                               | `plt.pie(vals, labels=labels, autopct='%1.1f%%')`                       |
| Столбчатый график с накоплением          | Показ соотношения нескольких переменных                                     | `plt.bar(labels, y1)`<br>`plt.bar(labels, y2, bottom=y1)`              |
| Диаграмма размаха                        | Визуализация распределения данных                                           | `plt.boxplot(data)`                                                     |

**Пример кода для круговой диаграммы:**
```python
import matplotlib.pyplot as plt
vals = [24, 17, 53]
labels = ["A", "B", "C"]
plt.pie(vals, labels=labels, autopct='%1.1f%%')
plt.title("Доли")
plt.show()
```

---

## Лабораторная работа 4. Описательная статистика

**Цель:** Изучить методы описательной статистики для анализа данных.

### Теоретические основы

- **Описательная статистика** — методы для обобщения и описания данных (среднее, медиана, дисперсия и др.).
- **Основные метрики**:
  - **Среднее** — сумма значений, делённая на их количество.
  - **Медиана** — среднее значение в упорядоченном наборе.
  - **Мода** — наиболее частое значение.
  - **Диапазон** — разница между максимумом и минимумом.
  - **Дисперсия** — мера разброса значений относительно среднего.
  - **Стандартное отклонение** — квадратный корень из дисперсии.

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Среднее               | Среднее арифметическое значений                                             | `(1 + 2 + 3) / 3 = 2`                       |
| Медиана               | Среднее значение упорядоченного набора                                      | Для `[1, 2, 3]` медиана = `2`                |
| Дисперсия             | Средний квадрат отклонений от среднего                                      | Для `[1, 2, 3]` дисперсия ≈ `0.67`           |
| Стандартное отклонение| Квадратный корень из дисперсии                                              | Для `[1, 2, 3]` ≈ `0.82`                     |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Вычисление среднего                      | Подсчёт среднего значения столбца                                           | `df['col'].mean()`                                                     |
| Вычисление медианы                       | Подсчёт медианы столбца                                                     | `df['col'].median()`                                                   |
| Вычисление моды                          | Подсчёт наиболее частого значения                                           | `df['col'].mode()`                                                     |
| Вычисление дисперсии                     | Подсчёт дисперсии столбца                                                   | `df['col'].var()`                                                      |
| Вычисление стандартного отклонения       | Подсчёт стандартного отклонения                                             | `df['col'].std()`                                                      |
| Вычисление диапазона                     | Разница между максимумом и минимумом                                        | `df['col'].max() - df['col'].min()`                                    |

**Пример кода для статистики:**
```python
import pandas as pd
df = pd.DataFrame({'values': [1, 2, 3, 4, 5]})
print("Среднее:", df['values'].mean())
print("Медиана:", df['values'].median())
print("Дисперсия:", df['values'].var())
```

---

## Лабораторная работа 5. Проверка гипотез

**Цель:** Изучить методы проверки статистических гипотез.

### Теоретические основы

- **Статистическая гипотеза** — предположение о данных, которое проверяется статистическими методами.
- **Нулевая гипотеза (H₀)** — предположение, что различий нет (например, средние равны).
- **Альтернативная гипотеза (H₁)** — противоположное предположение (например, средние различаются).
- **p-value** — вероятность получить наблюдаемый результат, если H₀ верна. Если p-value < уровня значимости (например, 0.05), H₀ отвергается.
- **Уровень значимости** — порог (обычно 0.05 или 0.01), определяющий, когда отвергать H₀.

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Нулевая гипотеза      | Предположение об отсутствии различий                                        | "Средний вес = 250 г"                        |
| p-value               | Вероятность результата при верной H₀                                        | `p-value = 0.03` (отвергаем H₀ при 0.05)     |
| Уровень значимости    | Порог для принятия решения (обычно 0.05)                                    | `α = 0.05`                                   |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Проверка среднего (одновыборочный t-тест)| Сравнение среднего выборки с заданным значением                             | `st.ttest_1samp(array, popmean=120)`                                   |
| Проверка равенства средних (двухвыборочный t-тест) | Сравнение средних двух выборок                                     | `st.ttest_ind(sample_1, sample_2)`                                     |
| Проверка парного t-теста                 | Сравнение средних одной выборки до и после изменения                        | `st.ttest_rel(before, after)`                                          |

**Пример кода для t-теста:**
```python
from scipy import stats as st
sample = [245, 255, 260]
result = st.ttest_1samp(sample, popmean=250)
print("p-value:", result.pvalue)
```

---

## Лабораторная работа 6. Срезы. Взаимосвязь данных

**Цель:** Изучить методы создания срезов данных и анализа корреляции.

### Теоретические основы

- **Срез данных** — выборка части данных по условиям (фильтрация).
- **Фильтр** — булев массив (`True`/`False`) для выбора строк.
- **Метод query()** — фильтрация данных через строковые условия.
- **Корреляция** — взаимосвязь двух переменных:
  - **Положительная** — рост одной переменной связан с ростом другой.
  - **Отрицательная** — рост одной переменной связан с уменьшением другой.
- **Коэффициент Пирсона** — числовая мера корреляции (от -1 до 1).
- **Диаграмма рассеяния** — график для визуализации корреляции.

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Срез данных           | Выборка строк по условию                                                    | `df[df['col'] > 10]`                         |
| Корреляция            | Взаимосвязь двух переменных                                                 | Если продажи растут с ценой — положительная  |
| Коэффициент Пирсона   | Мера силы и направления корреляции                                          | `0.8` (сильная положительная корреляция)     |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Автоматический фильтр                    | Фильтрация по условию                                                       | `df[df['col'] == 'value']`                                             |
| Фильтр с операциями сравнения            | Использование >, <, != и др.                                                | `df[df['col1'] > df['col2']]`                                          |
| Проверка наличия значений                | Проверка, есть ли значения в списке                                         | `df['col'].isin(['val1', 'val2'])`                                     |
| Срез с несколькими условиями             | Комбинация условий с `and`, `or`                                            | `df[(df['col1'] > 10) & (df['col2'] < 5)]`                             |
| Срез методом query()                     | Фильтрация через строковое условие                                          | `df.query('col == "value"')`                                           |
| Извлечение даты                          | Получение года, дня недели из столбца datetime                              | `df['date'].dt.year`<br>`df['date'].dt.weekday`                        |
| Сдвиг времени                            | Добавление времени (например, +10 минут)                                    | `df['date'] + pd.Timedelta(minutes=10)`                                |
| Округление времени                       | Округление времени до заданного шага                                        | `df['date'].dt.round('1H')`                                            |
| График hexbin                            | График с шестиугольными ячейками для плотности                              | `df.plot(x='col1', y='col2', kind='hexbin', gridsize=20)`              |
| Коэффициент Пирсона                      | Расчёт корреляции между столбцами                                           | `df['col1'].corr(df['col2'])`                                          |
| Попарные диаграммы рассеяния             | Визуализация корреляций для всех столбцов                                   | `pd.plotting.scatter_matrix(df)`                                        |
| Матрица корреляции                       | Таблица корреляций для всех столбцов                                        | `df.corr()`                                                            |

**Пример кода для корреляции:**
```python
import pandas as pd
df = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})
print(df['A'].corr(df['B']))
pd.plotting.scatter_matrix(df)
```

---

## Лабораторная работа 7. Теория вероятностей

**Цель:** Изучить основы теории вероятностей в контексте данных.

### Теоретические основы

- **Эксперимент** — повторяемый опыт с разными исходами.
- **Элементарный исход** — один возможный результат эксперимента.
- **Вероятностное пространство** — множество всех исходов.
- **Событие** — подмножество исходов.
- **Вероятность события** — доля благоприятных исходов (для равновероятных событий).
- **Случайная величина** — переменная, принимающая случайные значения.
- **Математическое ожидание** — среднее значение случайной величины.
- **Дисперсия** — мера разброса случайной величины.
- **Биномиальное распределение** — распределение числа успехов в n независимых экспериментах.
- **Нормальное распределение** — непрерывное распределение, описываемое средним и дисперсией.

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Событие               | Подмножество исходов эксперимента                                           | "Выпадение орла"                             |
| Вероятность           | Доля благоприятных исходов                                                  | `1/2` для подбрасывания монеты               |
| Математическое ожидание | Среднее значение случайной величины                                         | Для `[1, 2, 3]` = `(1+2+3)/3 = 2`            |
| Нормальное распределение | Распределение с "колоколообразной" кривой                                   | Среднее = 1000, стандартное отклонение = 100 |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Создание массива NumPy                   | Хранение числовых данных                                                    | `np.array([[1, 2], [3, 4]])`                                           |
| Работа со словарём                       | Получение ключей и значений                                                 | `dictionary.keys()`<br>`dictionary.values()`                            |
| Вычисление факториала                    | Расчёт факториала числа                                                     | `from math import factorial`<br>`factorial(5)`                          |
| Вероятность нормального распределения    | Расчёт вероятности для значения                                             | `st.norm(1000, 100).cdf(1000)`                                         |
| Вероятность в интервале                  | Расчёт вероятности между значениями                                         | `st.norm(1000, 100).cdf(1100) - st.norm(1000, 100).cdf(900)`           |
| Значение по вероятности                  | Получение значения по вероятности                                           | `st.norm(1000, 100).ppf(0.841)`                                        |

**Пример кода для нормального распределения:**
```python
from scipy import stats as st
distr = st.norm(1000, 100)
print("Вероятность для x=1000:", distr.cdf(1000))
```

---

## Лабораторная работа 8. Валидация

**Цель:** Изучить методы валидации данных.

### Теоретические основы

- **Валидация данных** — проверка данных на корректность и целостность.
- **Базовые проверки** — проверка типов, диапазонов, пустых значений и шаблонов.
- **Библиотеки валидации**:
  - **Pydantic** — автоматическая валидация через модели.
  - **Cerberus** — валидация по схемам.
  - **Marshmallow** — для сериализации и валидации.
- **Группировка** — разделение данных по категориям для анализа.

| **Термин**            | **Описание**                                                                 | **Пример**                                   |
|-----------------------|-----------------------------------------------------------------------------|----------------------------------------------|
| Валидация             | Проверка данных на корректность                                             | Проверка, что email содержит `@`             |
| Pydantic              | Библиотека для создания моделей с валидацией                                | `class User(BaseModel): age: int`            |
| Группировка           | Разделение данных по категориям                                             | Группировка заказов по статусу               |

### Практические навыки

| **Задание**                              | **Описание**                                                                 | **Код**                                                                 |
|------------------------------------------|-----------------------------------------------------------------------------|-------------------------------------------------------------------------|
| Столбчатый график                        | Визуализация данных для оценки выбросов                                      | `df.plot(y='col', kind='bar')`                                         |
| Замена значений методом where()          | Замена значений по условию                                                  | `df['col'].where(df['col'] > 10, 0)`                                   |
| Круговая диаграмма                       | Показ долей категорий                                                       | `df.plot(y='col', kind='pie')`                                         |
| Группировка данных                       | Разделение данных по категориям                                             | `for val, slice in df.groupby('col'): print(slice)`                     |
| Базовая валидация                        | Проверка типов, диапазонов, шаблонов                                        | `if not 0 <= age <= 120: raise ValueError("Некорректный возраст")`      |
| Валидация с Pydantic                     | Автоматическая валидация через модель                                        | `class User(BaseModel): age: int`<br>`User(age=30)`                     |

**Пример кода для валидации:**
```python
from pydantic import BaseModel
class User(BaseModel):
    age: int
try:
    user = User(age=30)
    print(user)
except ValidationError as e:
    print(e)
```

---

